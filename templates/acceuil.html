{% extends "layout.html" %}
{% block body %}
<body>
    <div id="acceuil">
        <!-- Navigation -->
        <nav>
            <div class="about">
                <a href="#features">Features</a>
                <a href="#about">About Us</a>
                <a href="#contact">Contact</a>
            </div>
            {% if user['profile_picture'] %}
                <img id="view_profile" src="/static/{{  user['profile_picture'] }}" alt="Profile Picture" style="width:50px;height:50px;" class="profile">
            {% else %}
                <img id="view_profile" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAvpJREFUaEPtmVtO4zAUhu28NFnFDCuhrGTKSmBWArMSykomswqnL/HwVyfIpHbOxQmoEpUqcXHd8/k/V8e7K3/5K7fffQN8tYKrKRBC+OmcOzRN8yPGiJ+nd0+Qvfe+H8fx1Tl37Lpu+nvVGVQDhBAevfe3b0btlZb0McY/Xdc9Kj/3YbkZgAx/qPnySZkaEDVACGHvvX8iF1nB/vctoMid1rVUACGEAxm/puHpXmq3EgOs6DIsfIzxtzQ2RACfafxEJ4VgAcjnX9hj22CBBGIR4CuNTzLUfdd1x9L5LAIMw4CT1+b3tbXo27a9UQPUZBxIT9X2SBUaVRnp11Q3YoxQ4TkHUVRgGIa/hlyPNFiUHDBvVRuqAkjzKqqQBbCePhWior/CYoLA4ahepYDOAlh833v/vNvt7iVWnU6npxjjQbI2WXNs2/Zu/pkSQFRu7pb8dL6XNbvlFL4AqHCfG2kfs6YbXQAY5YUCYgAoMgyDWuWcm14AWPwfBkkCeHIlq8pIzfM4yAFY0qf7hCAG/0U6zQGopZWWfUqjKGjW3mpTgPMJLQ0lFLwYhsztSdu2Hw59tRhIUuV5KFmzlUj3nvdFWwBoS4hmPR/E1jSqscK6VpRGK1Kc1S7x53LVPleJ0TGqmy0KYPg+Lqym99w4BC/2/2XoSLPFco1mDkGLITzbr5eOV3s9U6ozVe20pnjlQKbrSMmgU2oWSwCSwSPb3oodmhYCommaB669nuf/6XuKExkTzItzqgViaVIzjZSCqmm6CszMBlB7qTrbhnrqW7iMtDgDc0pIZmSuy5VcbLH3oQjmcRxxVb44DyfttMjvOeOxHwtASuAZgORK5L0PwucARJkGv05XK6IaILmV0wCcn74IITjPYf8vNV4MkEgvVYI1srRAczmgBkgC23I5xUGZEoIoBnKpj1xK5M+M5eqHGul+JoA0m9CdJ0C0U1aV4Wwl5vQuqLJvmuaWHrNiCaDmj1n/SZ++SGyoUkDyBVuv+QbY+oS5/a9egf9bl+BAPNKx6AAAAABJRU5ErkJggg=="/>
            {% endif %}
        </nav>

        <!-- Hero Section -->
        <div id="hero">
            <h1>Kickstart the Ultimate Babyfoot Experience!</h1>
            <button type="button" onclick="location.href='/start_game'" id="start">Start Game</button>
            <button type="button" id="join">Join Game</button>
        </div>

        <!-- Features Section -->
        <section id="features" class="features">
            <div class="feature">
                <img src="/static/easy_to_use.png" alt="Feature 1">
                <h3>Easy to Use</h3>
                <p>Our platform is designed with simplicity in mind, making it accessible for everyone.</p>
            </div>
            <div class="feature">
                <img src="/static/secure.png" alt="Feature 2">
                <h3>Secure</h3>
                <p>Your data and privacy are our top priorities. We ensure the highest level of security.</p>
            </div>
            <div class="feature">
                <img src="/static/chat_ball.png" alt="Feature 3">
                <h3>24/7 Support</h3>
                <p>Our dedicated team is always available to assist you with any queries or issues.</p>
            </div>
        </section>
        <div>
            <button id="stats" autocomplete="off">See a player's stats</button>
        </div>
        <div id="view_stats" hidden>
            <div><img id="closeButton4" class="closeButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAArZJREFUaEPtmWFOHDEMhc1Pn6JwEspJWk5Ce5LSk5SblJ7CP4E3mqwymzjxS6azIBFpxQolG3/2c+zMXMkHH1cf3H75BLh0BHeLgJldi8h3EfkiIviePs8rJP7i809EnlT1aQ/4KYDM6G+rwYxNgPn9tu5RVRMks36ZOwxgZj9E5IHesVywgKgqfo8eNICZfRWRP/RO/QVDIBTAjl5v4fxkohEGMDN4Hd4/YiAv7iMbhQAONj7ZHYLoAhwkG8/ZXTk1Af5jwkbUkebcq+qjt6AH8HfgfGeMi8x9VtUbGuDC0jm3180HNwJm9hJxTzYHYUYrERk489FqRAfm39UqdhXAzH4RxsAIHHnobQDQq87og+4GIlxNaA+A0f4pybLeyINYjE9uJyGqueABROWzMQiGNSCKuet8xlmQ0aaLLQDMDDKAhKKjSLAKhGc8W90LGdUAWP0DtAVxm8smkw9rPJYWjqgBjPywC1E7OSZakxAAo8nweT3p+bS8SORaBKIJ7OWIW3QmPH8ogJew6c7cqxPNw0NVN06vRWBGQlXjM/nMQoQkNJrETeN3gggl8cgx2jrn4bXN7SpQscP5tUchixSpSLGLFM7iblADgE6RB5FR7U+c08aDgGSjnenNeV3xeiEmDzblvXNUbiDIrrcaaQ+AfWi1QATP+QWCNL5a6fFPD4CR0anIEFJgLzTYo5CPC7C2uWxXGsmZ0Tnu04nWlRJRYBJs1LjuuvPqmy/oPZV4D1EoLjFhgFVKbEJ3PUpMmHuwlZX/S0CEWpPuo8U1CrNNGOH0ZWrI+OYpVNuRfIrAGp3md2VD5cC5FeulHz19tPxHQVAb0OtQ785CEqpA7CmpoTczyaYhgCy5E8jtwMuPKcN3Acgjs/b4eIMDmN5r1qk3k1M5EBX0UfOmJHSUka19PgEuHYVXD5BcQJ/ljfEAAAAASUVORK5CYII="/>
            </div>
            <label for="users">Choose a user:</label>
            <select name="users" id="choose_user">
                <option value="" selected disabled>-- Choose a user --</option>
                {% for user in users %}
                    {% if user.username != session.get('username') and user.role != "admin" %}
                        <option value="{{ user.username }}">{{ user.username }}</option>
                    {% endif %}
                {% endfor %}
            </select>            
            <div id="stats_container">
                
            </div> 
        </div>
        <table id="myStats">
            <thead>
                <tr>
                    <th>Players</th>
                    <th>Score</th>
                </tr>
            </thead>
            <tbody >
                {% for game in games %}
                    <tr>
                        
                        <td>{{ game.player1_username }} - {{ game.player2_username }}</td>
                        <td>{{ game.score1 }}-{{ game.score2}}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div id="user_info" hidden>
        <img id="closeButton3" class="closeButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAArZJREFUaEPtmWFOHDEMhc1Pn6JwEspJWk5Ce5LSk5SblJ7CP4E3mqwymzjxS6azIBFpxQolG3/2c+zMXMkHH1cf3H75BLh0BHeLgJldi8h3EfkiIviePs8rJP7i809EnlT1aQ/4KYDM6G+rwYxNgPn9tu5RVRMks36ZOwxgZj9E5IHesVywgKgqfo8eNICZfRWRP/RO/QVDIBTAjl5v4fxkohEGMDN4Hd4/YiAv7iMbhQAONj7ZHYLoAhwkG8/ZXTk1Af5jwkbUkebcq+qjt6AH8HfgfGeMi8x9VtUbGuDC0jm3180HNwJm9hJxTzYHYUYrERk489FqRAfm39UqdhXAzH4RxsAIHHnobQDQq87og+4GIlxNaA+A0f4pybLeyINYjE9uJyGqueABROWzMQiGNSCKuet8xlmQ0aaLLQDMDDKAhKKjSLAKhGc8W90LGdUAWP0DtAVxm8smkw9rPJYWjqgBjPywC1E7OSZakxAAo8nweT3p+bS8SORaBKIJ7OWIW3QmPH8ogJew6c7cqxPNw0NVN06vRWBGQlXjM/nMQoQkNJrETeN3gggl8cgx2jrn4bXN7SpQscP5tUchixSpSLGLFM7iblADgE6RB5FR7U+c08aDgGSjnenNeV3xeiEmDzblvXNUbiDIrrcaaQ+AfWi1QATP+QWCNL5a6fFPD4CR0anIEFJgLzTYo5CPC7C2uWxXGsmZ0Tnu04nWlRJRYBJs1LjuuvPqmy/oPZV4D1EoLjFhgFVKbEJ3PUpMmHuwlZX/S0CEWpPuo8U1CrNNGOH0ZWrI+OYpVNuRfIrAGp3md2VD5cC5FeulHz19tPxHQVAb0OtQ785CEqpA7CmpoTczyaYhgCy5E8jtwMuPKcN3Acgjs/b4eIMDmN5r1qk3k1M5EBX0UfOmJHSUka19PgEuHYVXD5BcQJ/ljfEAAAAASUVORK5CYII=" />
        <h1>Welcome, {{ user['username'] }}</h1>
            <!-- User Details -->    
        <!-- Display Profile Picture -->
        {% if user['profile_picture'] %}
            <img src="/static/{{ user['profile_picture'] }}" alt="Profile Picture" class="profile">
        {% else %}
            <p>No profile picture uploaded.</p>
        {% endif %}
        <p><strong>Full Name:</strong> {{ user['name'] }}</p>
        <p><strong>Email:</strong> {{ user['mail'] }}</p>
        <p><strong>Current Status:</strong> <span id="current-status">{{ user['status'] }}</span></p>
    
        <!-- Update Profile Picture -->
        <form action="/profile" method="post" enctype="multipart/form-data">
            <button id="change" type="button">Change Profile Picture</button>
            <div class="pp" id="pro_pic" hidden>
                <br>
                <label for="profile_picture">Profile Picture:</label>
                <input type="file" id="profile_picture" name="file" accept="image/*">
                <button type="submit" id="save">Save</button>
                <br>
            </div>
        </form>
    
    
        <!-- Update Status -->
        <label for="status-select">Change your status:</label>
        <select id="status-select">
            <option value="public" {% if user.status == 'public' %}selected{% endif %}>Public</option>
            <option value="private" {% if user.status == 'private' %}selected{% endif %}>Private</option>
        </select>
        <button id="update-status-btn">Update Status</button>
        <p id="status-message" style="color: green; margin-top: 10px;"></p>
    
        <!-- Logout -->
        <a href="/logout" style="display: block; margin-top: 20px;">Log Out</a>
    </div>
    
    <div id="launcher" hidden>
        <div id="ball" >
            <img id="closeButton1" class="closeButton"  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAArZJREFUaEPtmWFOHDEMhc1Pn6JwEspJWk5Ce5LSk5SblJ7CP4E3mqwymzjxS6azIBFpxQolG3/2c+zMXMkHH1cf3H75BLh0BHeLgJldi8h3EfkiIviePs8rJP7i809EnlT1aQ/4KYDM6G+rwYxNgPn9tu5RVRMks36ZOwxgZj9E5IHesVywgKgqfo8eNICZfRWRP/RO/QVDIBTAjl5v4fxkohEGMDN4Hd4/YiAv7iMbhQAONj7ZHYLoAhwkG8/ZXTk1Af5jwkbUkebcq+qjt6AH8HfgfGeMi8x9VtUbGuDC0jm3180HNwJm9hJxTzYHYUYrERk489FqRAfm39UqdhXAzH4RxsAIHHnobQDQq87og+4GIlxNaA+A0f4pybLeyINYjE9uJyGqueABROWzMQiGNSCKuet8xlmQ0aaLLQDMDDKAhKKjSLAKhGc8W90LGdUAWP0DtAVxm8smkw9rPJYWjqgBjPywC1E7OSZakxAAo8nweT3p+bS8SORaBKIJ7OWIW3QmPH8ogJew6c7cqxPNw0NVN06vRWBGQlXjM/nMQoQkNJrETeN3gggl8cgx2jrn4bXN7SpQscP5tUchixSpSLGLFM7iblADgE6RB5FR7U+c08aDgGSjnenNeV3xeiEmDzblvXNUbiDIrrcaaQ+AfWi1QATP+QWCNL5a6fFPD4CR0anIEFJgLzTYo5CPC7C2uWxXGsmZ0Tnu04nWlRJRYBJs1LjuuvPqmy/oPZV4D1EoLjFhgFVKbEJ3PUpMmHuwlZX/S0CEWpPuo8U1CrNNGOH0ZWrI+OYpVNuRfIrAGp3md2VD5cC5FeulHz19tPxHQVAb0OtQ785CEqpA7CmpoTczyaYhgCy5E8jtwMuPKcN3Acgjs/b4eIMDmN5r1qk3k1M5EBX0UfOmJHSUka19PgEuHYVXD5BcQJ/ljfEAAAAASUVORK5CYII="/>
           <h1>Game Code</h1> 
        </div>
        <h3>You can scan me too!</h3> 
        <img id="qrcode" src="" alt="QR Code">
       <button id="startGameButton" onclick="launchGame()" >Launch Game</button>
    </div>
    <div id="door" hidden >
        <img id="closeButton2" class="closeButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAArZJREFUaEPtmWFOHDEMhc1Pn6JwEspJWk5Ce5LSk5SblJ7CP4E3mqwymzjxS6azIBFpxQolG3/2c+zMXMkHH1cf3H75BLh0BHeLgJldi8h3EfkiIviePs8rJP7i809EnlT1aQ/4KYDM6G+rwYxNgPn9tu5RVRMks36ZOwxgZj9E5IHesVywgKgqfo8eNICZfRWRP/RO/QVDIBTAjl5v4fxkohEGMDN4Hd4/YiAv7iMbhQAONj7ZHYLoAhwkG8/ZXTk1Af5jwkbUkebcq+qjt6AH8HfgfGeMi8x9VtUbGuDC0jm3180HNwJm9hJxTzYHYUYrERk489FqRAfm39UqdhXAzH4RxsAIHHnobQDQq87og+4GIlxNaA+A0f4pybLeyINYjE9uJyGqueABROWzMQiGNSCKuet8xlmQ0aaLLQDMDDKAhKKjSLAKhGc8W90LGdUAWP0DtAVxm8smkw9rPJYWjqgBjPywC1E7OSZakxAAo8nweT3p+bS8SORaBKIJ7OWIW3QmPH8ogJew6c7cqxPNw0NVN06vRWBGQlXjM/nMQoQkNJrETeN3gggl8cgx2jrn4bXN7SpQscP5tUchixSpSLGLFM7iblADgE6RB5FR7U+c08aDgGSjnenNeV3xeiEmDzblvXNUbiDIrrcaaQ+AfWi1QATP+QWCNL5a6fFPD4CR0anIEFJgLzTYo5CPC7C2uWxXGsmZ0Tnu04nWlRJRYBJs1LjuuvPqmy/oPZV4D1EoLjFhgFVKbEJ3PUpMmHuwlZX/S0CEWpPuo8U1CrNNGOH0ZWrI+OYpVNuRfIrAGp3md2VD5cC5FeulHz19tPxHQVAb0OtQ785CEqpA7CmpoTczyaYhgCy5E8jtwMuPKcN3Acgjs/b4eIMDmN5r1qk3k1M5EBX0UfOmJHSUka19PgEuHYVXD5BcQJ/ljfEAAAAASUVORK5CYII="/>
        <h1>Enter Code</h1>
        <form id="code-form">
            <div class="code-container">
                <!-- 6 cases pour chaque chiffre -->
                <input type="text" maxlength="1" pattern="\d" required>
                <input type="text" maxlength="1" pattern="\d" required>
                <input type="text" maxlength="1" pattern="\d" required>
                <input type="text" maxlength="1" pattern="\d" required>
                <input type="text" maxlength="1" pattern="\d" required>
                <input type="text" maxlength="1" pattern="\d" required>
            </div>
            <button type="submit" id="validate">Valider</button>
        </form>
    </div>

</body>
<script src="/static/myScript.js">
    console.log('Script loaded');
</script>



{% endblock %}